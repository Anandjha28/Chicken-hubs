<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Chicken Hub</title>
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;500;700&display=swap" rel="stylesheet"/>
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: 'Poppins', sans-serif;
      background: #fff0f0;
      color: #333;
    }

    nav {
      background-color: #d12f2f;
      padding: 10px 20px;
    }

    nav ul {
      display: flex;
      list-style: none;
      justify-content: center;
      gap: 20px;
    }

    nav ul li a {
      color: white;
      text-decoration: none;
      font-weight: 500;
      font-size: 16px;
    }

    #hero {
      height: 300px;
      background: url('https://images.unsplash.com/photo-1600891964599-f61ba0e24092') center/cover no-repeat;
      display: flex;
      justify-content: center;
      align-items: center;
      color: white;
      text-align: center;
    }

    #hero h1 {
      font-size: 48px;
      margin-bottom: 10px;
    }

    #hero h2 {
      font-size: 24px;
      margin-bottom: 15px;
    }

    #hero a {
      background: white;
      color: #d12f2f;
      padding: 10px 20px;
      border-radius: 6px;
      font-weight: bold;
      text-decoration: none;
    }

    #Menu {
      padding: 40px 20px;
    }

    .menu-container {
      display: flex;
      flex-wrap: wrap;
      justify-content: center;
      gap: 20px;
    }

    .menu-item {
      background: #fff;
      border-radius: 8px;
      box-shadow: 0 4px 10px rgba(0,0,0,0.1);
      padding: 10px;
      width: 200px;
      text-align: center;
    }

    .menu-item img {
      width: 100%;
      height: 150px;
      border-radius: 6px;
      object-fit: cover;
    }

    .menu-item h3 {
      margin: 10px 0;
    }

    .price {
      font-weight: bold;
      margin-bottom: 10px;
    }

    .menu-item button {
      padding: 8px 12px;
      background-color: #d12f2f;
      color: white;
      border: none;
      border-radius: 6px;
      cursor: pointer;
    }

    .menu-item button:hover {
      background-color: #a72121;
    }

    #cart {
      padding: 40px 20px;
    }

    .cart-list {
      list-style: none;
      max-width: 600px;
      margin: auto;
      padding: 0;
    }

    .cart-list li {
      display: flex;
      justify-content: space-between;
      align-items: center;
      background: white;
      margin-bottom: 10px;
      padding: 10px;
      border-radius: 6px;
      box-shadow: 0 2px 5px rgba(0,0,0,0.1);
    }

    #checkout-form {
      padding: 40px 20px;
      max-width: 500px;
      margin: auto;
    }

    form input, form select, form button {
      width: 100%;
      margin-bottom: 15px;
      padding: 10px;
      border-radius: 6px;
      border: 1px solid #ccc;
      font-size: 16px;
    }

    .place-order-btn {
      background-color: #d12f2f;
      color: white;
      border: none;
    }

    .place-order-btn:hover {
      background-color: #a72121;
    }

    .greeting {
      text-align: center;
      font-size: 18px;
      margin: 15px 0;
      font-weight: 500;
    }
  </style>
</head>
<body>

  <nav>
    <ul>
      <li><a href="index.html">Home</a></li>
      <li><a href="#Menu">Menu</a></li>
      <li><a href="#cart">Cart</a></li>
      <li><a href="login.html">Logout</a></li>
    </ul>
  </nav>

  <div id="hero">
    <div id="hero_content">
      <div>
        <h1>Chicken Hub</h1>
        <h2>Best quality and Tasty Chicken</h2>
        <a href="#Menu">See Menu</a>
      </div>
    </div>
  </div>

  <div class="greeting" id="welcome-user"></div>

  <section id="Menu">
    <h2 style="text-align:center; margin-bottom: 20px;">üçó Our Menu</h2>
    <div class="menu-container">
      <div class="menu-item">
        <img src="images/lunch1.jpg" alt="Chicken Biryani">
        <h3>Chicken Biryani(Hydrabadi)</h3>
        <p class="price">‚Çπ120</p>
        <button onclick="addToCart('Chicken Biryani', this)">Add to Cart</button>
      </div>
      <div class="menu-item">
        <img src="images/lunch2.jpg" alt="Butter Chicken">
        <h3>Butter Chicken</h3>
        <p class="price">‚Çπ140</p>
        <button onclick="addToCart('Butter Chicken', this)">Add to Cart</button>
      </div>
      <div class="menu-item">
        <img src="images/chilli-chicken.jpg" alt="Chicken chili">
        <h3>Chicken chili</h3>
        <p class="price">‚Çπ140</p>
        <button onclick="addToCart('Chicken chili', this)">Add to Cart</button>
      </div>
      <div class="menu-item">
        <img src="images/Curry.jpeg" alt="Chicken curry">
        <h3>Chicken curry</h3>
        <p class="price">‚Çπ120</p>
        <button onclick="addToCart('Chicken curry', this)">Add to Cart</button>
      </div>
      <div class="menu-item">
        <img src="images/kadhai.webp" alt="Kadhai Chicken">
        <h3>Kadhai Chicken</h3>
        <p class="price">‚Çπ150</p>
        <button onclick="addToCart('Kadhai Chicken', this)">Add to Cart</button>
      </div>
      <div class="menu-item">
        <img src="images/Chicken-Korma-Image-1.jpg" alt="Chicken Korma">
        <h3>Chicken Korma</h3>
        <p class="price">‚Çπ140</p>
        <button onclick="addToCart('Chicken Korma', this)">Add to Cart</button>
      </div>
      <div class="menu-item">
        <img src="images/tandoori.cms" alt="Tandoori Chicken">
        <h3>Tandoori Chicken</h3>
        <p class="price">‚Çπ130</p>
        <button onclick="addToCart('Tandoori Chicken', this)">Add to Cart</button>
      </div>
      <div class="menu-item">
        <img src="images/pokoda.jpg" alt="Chicken Pakoda">
        <h3>Chicken Pakoda</h3>
        <p class="price">‚Çπ80</p>
        <button onclick="addToCart('Chicken Pakoda', this)">Add to Cart</button>
      </div>
      <div class="menu-item">
        <img src="images/Chicken-Fried-Rice-4.webp" alt="Chicken Fried Rice">
        <h3>Chicken Fried Rice</h3>
        <p class="price">‚Çπ100</p>
        <button onclick="addToCart('Chicken Fried Rice', this)">Add to Cart</button>
      </div>
      <div class="menu-item">
        <img src="images/lolipop.cms" alt="Chicken Lolipop">
        <h3>Chicken Lolipop</h3>
        <p class="price">‚Çπ150</p>
        <button onclick="addToCart('Chicken Lolipop', this)">Add to Cart</button>
      </div>
    </div>
  </section>

  <section id="cart">
    <h2 style="text-align:center;">üõí Your Cart</h2>
    <ul id="cart-items" class="cart-list"></ul>
    <h3 id="total-amount" style="text-align:center;">Total: ‚Çπ0</h3>
    <div style="text-align:center;">
      <button onclick="placeOrder()" class="place-order-btn">Place Order</button>
    </div>
  </section>

  <section id="checkout-form">
    <h2 style="text-align:center;">üßæ Checkout</h2>
    <form id="order-form" onsubmit="submitOrder(event)">
      <input type="text" id="name" placeholder="Your Name" required />
      <input type="text" id="address" placeholder="Delivery Address" required />
      <input type="tel" id="phone" placeholder="Phone Number" required />
      <select id="payment" required>
        <option value="">Select Payment Method</option>
        <option value="Cash on Delivery">Cash on Delivery</option>
        <option value="UPI">UPI</option>
        <option value="Card">Credit/Debit Card</option>
      </select>
      <button type="submit" class="place-order-btn">Place Final Order</button>
    </form>
  </section>

  <script>
    const menuItems = {
      "Chicken Biryani": 120,
      "Butter Chicken": 140,
      "Chicken chili": 140,
      "Chicken curry": 120,
      "Kadhai Chicken": 150,
      "Chicken Korma": 140,
      "Tandoori Chicken": 130,
      "Chicken Pakoda": 80,
      "Chicken Fried Rice": 100,
      "Chicken Lolipop": 150
    };
    let cart = {};

    const user = JSON.parse(localStorage.getItem("user"));

    window.addEventListener('DOMContentLoaded', () => {
      if (!user) {
        document.querySelectorAll("button").forEach(btn => {
          btn.disabled = true;
          btn.style.backgroundColor = "#ccc";
        });
        document.getElementById("checkout-form").style.display = "none";
        alert("Please login to access the site.");
        window.location.href = "login.html";
      } else {
        document.getElementById("welcome-user").textContent = `Welcome, ${user.email}`;
      }
    });

    function addToCart(itemName, button) {
      if (cart[itemName]) {
        cart[itemName].quantity += 1;
      } else {
        cart[itemName] = {
          price: menuItems[itemName],
          quantity: 1
        };
      }
      updateCartUI();
      button.textContent = "Added!";
      button.disabled = true;
      button.style.backgroundColor = "#888";
    }

    function removeItem(itemName) {
      delete cart[itemName];
      updateCartUI();
    }

    function changeQty(itemName, delta) {
      cart[itemName].quantity += delta;
      if (cart[itemName].quantity <= 0) {
        removeItem(itemName);
      }
      updateCartUI();
    }

    function updateCartUI() {
      const cartList = document.getElementById("cart-items");
      cartList.innerHTML = "";
      let total = 0;

      for (let item in cart) {
        const li = document.createElement("li");
        const price = cart[item].price;
        const qty = cart[item].quantity;
        total += price * qty;

        li.innerHTML = `
          <span>${item}</span>
          <span>‚Çπ${price}</span>
          <span>
            <button onclick="changeQty('${item}', -1)">-</button>
            ${qty}
            <button onclick="changeQty('${item}', 1)">+</button>
          </span>
          <button onclick="removeItem('${item}')">Remove</button>
        `;
        cartList.appendChild(li);
      }

      document.getElementById("total-amount").textContent = `Total: ‚Çπ${total}`;
    }

    function getTotalPrice() {
      let total = 0;
      for (let item in cart) {
        total += cart[item].quantity * cart[item].price;
      }
      return total;
    }

    function placeOrder() {
      if (Object.keys(cart).length === 0) {
        alert("Your cart is empty!");
      } else {
        alert("Order placed! Thank you üòä");
        cart = {};
        updateCartUI();
      }
    }

    function submitOrder(e) {
      e.preventDefault();

      const name = document.getElementById("name").value;
      const address = document.getElementById("address").value;
      const phone = document.getElementById("phone").value;
      const payment = document.getElementById("payment").value;

      if (Object.keys(cart).length === 0) {
        alert("Your cart is empty!");
        return;
      }

      let summary = `Order Summary:\n\n`;
      for (let item in cart) {
        const qty = cart[item].quantity;
        const price = cart[item].price;
        summary += `${item} x ${qty} = ‚Çπ${qty * price}\n`;
      }

      summary += `\nTotal: ‚Çπ${getTotalPrice()}\n`;
      summary += `\nDeliver To:\n${name}, ${address}\nPhone: ${phone}\nPayment: ${payment}`;

      alert(summary);
      cart = {};
      updateCartUI();
      document.getElementById("order-form").reset();
    }
  </script>
</body>
</html>
